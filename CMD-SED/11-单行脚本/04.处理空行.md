# 04.处理空行

```bash
#在文档最后插入空行
sed '$a\\' file
-------------------------------------------------------------------------------------------------------------------------------
# 在每一行后面增加一空行
sed G
# 在每一行后面增加两行空行
sed 'G;G'
# 在匹配式样“regex”的行之后插入一空行
sed '/regex/G'
# 在匹配式样“regex”的行之前插入一空行
sed '/regex/{x;p;x;}'
#在匹配式样“regex”的行之前和之后各插入一空行
sed '/regex/{x;p;x;G;}'
-------------------------------------------------------------------------------------------------------------------------------
#将原来的所有空行删除并在每一行后面增加一空行，使在输出的文本中每一行后面将有且只有一空行。
sed '/^$/d;G'
-------------------------------------------------------------------------------------------------------------------------------
# 删除文件中的所有空行（与“grep '.' ”效果相同）
sed '/^$/d'                           # 方法1
sed '/./!d'                           # 方法2
注：.号不能匹配换行符
-------------------------------------------------------------------------------------------------------------------------------
# 只保留多个相邻空行的第一行。并且删除文件顶部和尾部的空行。
# （模拟“cat -s”）
sed '/./,/^$/!d'        #方法1，删除文件顶部的空行，允许尾部保留一空行
sed '/^$/N;/\n$/D'      #方法2，允许顶部保留一空行，尾部不留空行
-------------------------------------------------------------------------------------
# 只保留多个相邻空行的前两行。
sed '/^$/N;/\n$/N;//D'
-------------------------------------------------------------------------------------
# 删除文件顶部的所有空行
sed '/./,$!d'
-------------------------------------------------------------------------------------
# 删除文件尾部的所有空行
sed -e :a -e '/^\n*$/{$d;N;ba' -e '}'               # 对所有sed有效
sed -e :a -e '/^\n*$/N;/\n$/ba'                    # 同上，但只对 gsed 3.02.*有效
-------------------------------------------------------------------------------------
```