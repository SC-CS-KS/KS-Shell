{\rtf1\fbidis\ansi\ansicpg0\uc1\deff0\deflang0\deflangfe0{\fonttbl{\f0\fnil \'cb\'ce\'cc\'e5;}{\f1\fnil \'ce\'a2\'c8\'ed\'d1\'c5\'ba\'da;}{\f2\fnil\fcharset134 \'cb\'ce\'cc\'e5;}{\f3\fnil\fcharset0 Times New Roman;}}{\colortbl;\red0\green0\blue255;\red0\green0\blue0;\red79\green129\blue189;\red255\green255\blue255;}{\*\listtable{\list\listtemplateid1587325119
{\listlevel\levelnfc0\leveljc0\li0\fi0\jclisttab\tx0\levelstartat1{\leveltext\'00;}{\levelnumbers;}\f3\fs24}
{\listlevel\levelnfc0\leveljc0\li0\fi0\jclisttab\tx0\levelstartat1{\leveltext\'00;}{\levelnumbers;}\f3\b\i\fs28}
{\listlevel\levelnfc0\leveljc0\li0\fi0\jclisttab\tx0\levelstartat1{\leveltext\'00;}{\levelnumbers;}\f3\fs24}
{\listlevel\levelnfc0\leveljc0\li0\fi0\jclisttab\tx0\levelstartat1{\leveltext\'00;}{\levelnumbers;}\f3\fs24}
{\listlevel\levelnfc0\leveljc0\li0\fi0\jclisttab\tx0\levelstartat1{\leveltext\'00;}{\levelnumbers;}\f3\fs24}
{\listlevel\levelnfc0\leveljc0\li0\fi0\jclisttab\tx0\levelstartat1{\leveltext\'00;}{\levelnumbers;}\f3\fs24}
{\listlevel\levelnfc0\leveljc0\li0\fi0\jclisttab\tx0\levelstartat1{\leveltext\'00;}{\levelnumbers;}\f3\fs24}
{\listlevel\levelnfc0\leveljc0\li0\fi0\jclisttab\tx0\levelstartat1{\leveltext\'00;}{\levelnumbers;}\f3\fs24}
{\listlevel\levelnfc0\leveljc0\li0\fi0\jclisttab\tx0\levelstartat1{\leveltext\'00;}{\levelnumbers;}\f3\fs24}
\listid1779862978}
{\list\listtemplateid966873295\listsimple1
{\listlevel\levelnfc0\leveljc0\li1380\fi-420\jclisttab\tx1380\levelstartat1{\leveltext\'02\'00);}{\levelnumbers\'01;}\f3\b\i\fs24\cf3}
\listid1347260941}
}
{\*\listoverridetable
{\listoverride\listid1779862978\listoverridecount0\ls1}
{\listoverride\listid1347260941\listoverridecount0\ls2}
}


\pard\fi0\li0\qc\ri0\sb0\sa0\itap0 \plain \f2\b\lang2052\fs24\cf2 string.sh
\par \pard\fi0\li0\ql\ri0\sb0\sa0\itap0 
\par \plain \f1\fs20 #!/bin/bash
\par ##! @TODO:\tab string library
\par ##! @VERSION:\tab 0.1beta
\par ##! @AUTHOR:\tab wengjy
\par ##! @DATE:\tab 2008-07-25
\par ##! @LASTMODIFY:2008-07-25
\par ##! @DEP:\tab expr 
\par ##! @DEP:\tab rev
\par 
\par ################### Global Variable ###################
\par readonly DEBUG_STR_LIB=0
\par 
\par ###################### Function #######################
\par ##! @TODO: \uc2\u25226 \'b0\'d1\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\u36716 \'d7\'aa\u25442 \'bb\'bb\u25104 \'b3\'c9\u23567 \'d0\'a1\u20889 \'d0\'b4 \uc1
\par ##! @AUTHOR: wengjy
\par ##! @VERSION: 1.0
\par ##! @IN: $@ => src
\par ##! @OUT: \uc2\u36716 \'d7\'aa\u25442 \'bb\'bb\u21518 \'ba\'f3\u30340 \'b5\'c4\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\uc1
\par ##! @RET: 0 => success
\par function tolower()
\par \{
\par \tab echo $@|tr [A-Z] [a-z]
\par \tab return 0
\par \}
\par 
\par ##! @TODO: \uc2\u25226 \'b0\'d1\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\u36716 \'d7\'aa\u25442 \'bb\'bb\u25104 \'b3\'c9\u22823 \'b4\'f3\u20889 \'d0\'b4\uc1
\par ##! @AUTHOR: wengjy
\par ##! @VERSION: 1.0
\par ##! @IN: $@ => src
\par ##! @OUT: \uc2\u36716 \'d7\'aa\u25442 \'bb\'bb\u21518 \'ba\'f3\u30340 \'b5\'c4\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\uc1
\par ##! @RET: 0 => success
\par function toupper()
\par \{
\par \tab echo $@|tr [a-z] [A-Z]
\par \tab return 0
\par \}
\par 
\par ##! @TODO: \uc2\u36830 \'c1\'ac\u25509 \'bd\'d3\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\uc1
\par ##! @AUTHOR: wengjy
\par ##! @VERSION: 1.0
\par ##! @IN: $@ => src
\par ##! @OUT: \uc2\u36830 \'c1\'ac\u25509 \'bd\'d3\u21518 \'ba\'f3\u30340 \'b5\'c4\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\uc1
\par ##! @RET: 0 => success
\par function strcat()
\par \{
\par \tab local ret=""
\par 
\par \tab for i in $@
\par \tab do
\par \tab \tab ret=$\{ret\}$\{i\}
\par \tab done
\par 
\par \tab echo $ret
\par \tab return 0
\par \}
\par 
\par ##! @TODO: \uc2\u33719 \'bb\'f1\u21462 \'c8\'a1\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\u38271 \'b3\'a4\u24230 \'b6\'c8\uc1
\par ##! @AUTHOR: wengjy
\par ##! @VERSION: 1.0
\par ##! @IN: $1 => src
\par ##! @OUT: \uc2\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\u38271 \'b3\'a4\u24230 \'b6\'c8\uc1
\par ##! @RET: 0 => success
\par function strlen()
\par \{
\par \tab echo $\{#1\}
\par \tab return 0
\par \}
\par 
\par ##! @TODO: \uc2\u27604 \'b1\'c8\u36739 \'bd\'cf\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\uc1
\par ##! @AUTHOR: wengjy
\par ##! @VERSION: 1.0
\par ##! @IN: $1 => str1; $2 => str2
\par ##! @RET: 0 => \uc2\u20004 \'c1\'bd\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\u19968 \'d2\'bb\u33268 \'d6\'c2; 1 => \u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\u19981 \'b2\'bb\u19968 \'d2\'bb\u33268 \'d6\'c2;\uc1
\par function strcmp()
\par \{
\par \tab [[ $# != 2 ]] && return 1
\par \tab [[ "$1" == "$2" ]] && return 0 || return 1
\par \}
\par 
\par ##! @TODO: \uc2\u27604 \'b1\'c8\u36739 \'bd\'cf\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae(\u19981 \'b2\'bb\u21306 \'c7\'f8\u20998 \'b7\'d6\u22823 \'b4\'f3\u23567 \'d0\'a1\u20889 \'d0\'b4)\uc1
\par ##! @AUTHOR: wengjy
\par ##! @VERSION: 1.0
\par ##! @IN: $1 => str1; $2 => str2
\par ##! @RET: 0 => \uc2\u20004 \'c1\'bd\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\u19968 \'d2\'bb\u33268 \'d6\'c2; 1 => \u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\u19981 \'b2\'bb\u19968 \'d2\'bb\u33268 \'d6\'c2;\uc1
\par function stricmp()
\par \{
\par \tab [[ $# != 2 ]] && return 1
\par 
\par \tab local str1=`tolower $1`
\par \tab local str2=`tolower $2`
\par \tab [[ "$str1" == "$str2" ]] && return 0 || return 1
\par \}
\par 
\par ##! @TODO: \uc2\u20174 \'b4\'d3\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\u37324 \'c0\'ef\u25130 \'bd\'d8\u21462 \'c8\'a1\u23376 \'d7\'d3\u20018 \'b4\'ae\uc1
\par ##! @AUTHOR: wengjy
\par ##! @VERSION: 1.0
\par ##! @IN: $1 => src; $2 => start pos; $3 => len
\par ##! @OUT: \uc2\u23376 \'d7\'d3\u20018 \'b4\'ae\uc1
\par ##! @RET: 0 => success; 1 => failure
\par function substr()
\par \{
\par \tab local src=$1
\par \tab local start_pos=$2
\par 
\par \tab if [[ $# == 3 ]]
\par \tab then
\par \tab \tab local len=$3
\par \tab \tab echo $\{src:start_pos:len\}
\par \tab elif [[ $# == 2 ]]
\par \tab then
\par \tab \tab echo $\{src:start_pos\}
\par \tab else
\par \tab \tab return 1
\par \tab fi
\par \tab return 0
\par \}
\par 
\par ##! @TODO: \uc2\u20174 \'b4\'d3\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\u37324 \'c0\'ef\u26597 \'b2\'e9\u25214 \'d5\'d2\u23376 \'d7\'d3\u20018 \'b4\'ae\uc1
\par ##! @AUTHOR: wengjy
\par ##! @VERSION: 1.0
\par ##! @IN: $1 => src; $2 => \uc2\u30446 \'c4\'bf\u26631 \'b1\'ea\u23376 \'d7\'d3\u20018 \'b4\'ae\uc1
\par ##! @OUT: \uc2\u23376 \'d7\'d3\u20018 \'b4\'ae\u25152 \'cb\'f9\u22312 \'d4\'da\u20559 \'c6\'ab\u31227 \'d2\'c6\u65288 \'a3\'a8\u20174 \'b4\'d31\u24320 \'bf\'aa\u22987 \'ca\'bc\u65292 \'a3\'ac\u24403 \'b5\'b1\u20559 \'c6\'ab\u31227 \'d2\'c6\u20026 \'ce\'aa0\u26102 \'ca\'b1\u21363 \'bc\'b4\u25214 \'d5\'d2\u19981 \'b2\'bb\u21040 \'b5\'bd\u35813 \'b8\'c3\u23376 \'d7\'d3\u20018 \'b4\'ae\u65289 \'a3\'a9\uc1
\par ##! @RET: 0 => success
\par function index()
\par \{
\par \tab [[ $# != 2 ]] && \{ echo 0; return 0; \}
\par 
\par \tab expr index $1 $2
\par \tab return 0
\par \}
\par 
\par ##! @TODO: \uc2\u21453 \'b7\'b4\u36716 \'d7\'aa\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\uc1
\par ##! @AUTHOR: wengjy
\par ##! @VERSION: 1.0
\par ##! @IN: $@ => src
\par ##! @OUT: \uc2\u21453 \'b7\'b4\u36716 \'d7\'aa\u21518 \'ba\'f3\u23383 \'d7\'d6\u31526 \'b7\'fb\u20018 \'b4\'ae\uc1
\par ##! @RET: 0 => success
\par function strrev()
\par \{
\par \tab echo $@|rev
\par \tab return 0
\par \}
\par 
\par # Main
\par ######################### Example ########################
\par if [ $DEBUG_STR_LIB -eq 1 ] 
\par then
\par 
\par tolower A a B b ABCD abcd
\par toupper A a B b ABCD abcd
\par 
\par strcat a b c d
\par strlen abcd
\par strcmp abc abc
\par echo $?
\par strcmp abc ABC
\par echo $?
\par 
\par stricmp abc ABC
\par echo $?
\par 
\par substr abcd 1 
\par substr abcd 1 2 
\par 
\par index abcd bc 
\par index abcd c
\par 
\par strrev abcd efg hi
\par 
\par fi\par}