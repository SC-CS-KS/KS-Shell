# 15.时间 函数

函数名
说明
mktime( YYYY MM DD HH MM SS[ DST])
生成时间格式
strftime([format [, timestamp]])
格式化时间输出，将时间戳转为时间字符串 
具体格式，见下表.
systime()
得到时间戳,返回从1970年1月1日开始到当前时间(不计闰年)的整秒数
 
## 01.systime

systime函数
----------------------
返回从1970年1月1日开始到当前时间(不计闰年)的整秒数。
---------------------------------------------------------
格式如下：
systime()
---------------------------------------------------------
实例：
$ awk 'BEGIN{ now = systime(); print now }'
---------------------------------------------------------

## 02.strftime

strftime函数
---------------------------------------------------------
使用C库中的strftime函数格式化时间。
---------------------------------------------------------
格式如下:
systime( [format specification][,timestamp] )
---------------------------------------------------------
日期和时间格式说明符
格式
描述
%a
星期几的缩写(Sun)
%A
星期几的完整写法(Sunday)
%b
月名的缩写(Oct)
%B
月名的完整写法(October)
%c
本地日期和时间  (Tue 18 Feb 2014 01:48:26 PM CST)
%d
十进制日期
%D
日期 08/20/99
%e
日期，如果只有一位会补上一个空格
%H
用十进制表示24小时格式的小时
%I
用十进制表示12小时格式的小时
%j
从1月1日起一年中的第几天
%m
十进制表示的月份
%M
十进制表示的分钟
%p
12小时表示法(AM/PM)
%S
十进制表示的秒
%U
十进制表示的一年中的第几个星期(星期天作为一个星期的开始)
%w
十进制表示的星期几(星期天是0)
%W
十进制表示的一年中的第几个星期(星期一作为一个星期的开始)
%x
重新设置本地日期(08/20/99)
%X
重新设置本地时间(12：00：00)
%y
两位数字表示的年(99)
%Y
当前月份
%Z
时区(PDT)
%%
百分号(%)

------------------------------------------------------------------------------------------------------------------
实例：
awk 'BEGIN{ now=strftime( "%D", systime() ); print now }'
awk 'BEGIN{ now=strftime( "%D"); print now }'
awk 'BEGIN{ now=strftime("%m/%d/%y"); print now }'

上述命令行返回以下格式的时间：06/19/13

## 03.mktime

创建指定时间(mktime使用）
	
$ awk 'BEGIN{tstamp=mktime("2001 01 01 12 12 12");print strftime("%c",tstamp);}'
	2001年01月01日 星期一 12时12分12秒
	 
$ awk 'BEGIN{tstamp1=mktime("2001 01 01 12 12 12");tstamp2=mktime("2001 02 01 0 0 0");print tstamp2-tstamp1;}'
	2634468
	求2个时间段中间时间差,介绍了strftime使用方法
	 
$ awk 'BEGIN{tstamp1=mktime("2001 01 01 12 12 12");tstamp2=systime();print tstamp2-tstamp1;}' 
	308201392

## 实例

$ awk 'BEGIN{
a=systime(); print "当前秒数: " a; 
b=strftme("%Y %m %d %H %M %S",a); print b; 
c=mktime(b) ; print "换算后秒数: " c;
}'

当前秒数: 1397542727
2014 04 15 14 18 47
换算后秒数: 1397542727
