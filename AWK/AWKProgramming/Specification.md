# AWK 脚本编写注意点

1. 为了避免碰到awk错误，可以总结出以下规律:
① 确保整个awk_script用单引号括起来。 
② 确保awk_script内所有引号成对出现。 
③ 确保用花括号括起动作语句，用圆括号括起条件语句。 
④ 可能忘记使用花括号，也许你认为没有必要，但awk不这样认为，将按之解释语法。
⑤ 如果使用字符串，一定要保证字符串被双引号括起来(在模式中除外)。 

2. 在awk中，设置有意义的域名是一种好习惯，在进行模式匹配或关系操作时更容易理解。
   一般的变量名设置方式为name=$n。(这里name为调用的域变量名， n为实际域号。) 

3. 通常在BEGIN部分给一些变量赋值是很有益的，这样可以在awk表达式进行改动时减少很多麻烦。

4.awk的基本功能是根据指定规则抽取输入数据的部分内容并输出，另一个重要的功能是对输入数据进行分析运算得到新的数据并输出。
  这是通过在awk_script中对字段变量($1、$2、$3...)重新赋值或使用更大的字段变量$n(n大于当前记录的NF)而实现的。

5.使用字符串或正则表达式时，有时需要在输出中加入一新行或查询一元字符。
  这时就需要字符串屏蔽序列。

  awk中经常使用的屏蔽序列有: 
   \b 退格键 
   \t tab键 
   \f 走纸换页 
   \ddd 八进制值 
   \n 新行 
   \r 回车键 
   \c 任意其他特殊字符。

   eg: \\为反斜线符号 

6.awk的所有变量都是“字符串化”的，即变量在内部都是用字符串储存的。
  只要变量包含数字字串就可以对它进行数学操作，awk会自动处理从字串到数值转换的步骤。

eg：  x ="1.12"       x = x+1

awk支持这种方式。

7. 默认情况下，awk处理的分隔符是空格，解释为 1个或多个空格。
  如果要变更为其他分割字符，可以修改FS

  在awk中，FS的值并未被限定为单个的字符，可以使用正则表达式

eg: 如果要处理由一个或多个Tab分段的文本，可以做以下更改：
    FS = "\t+"

如果要设置空格，可以使用POSIX字符类中的[[:space:]]

8.awk中的字符串不像C、C++、python一样看成字符数组，所以
   myArray = "How"
   myArray 这样的引用方式是错误的
   如果想要以数组方式访问子串，可以使用substr函数来替代。

9.特殊字符串形式
   调用length、sub、gsub函数时，省略最后一个参数，这样awk将对$0（整个当前行）做函数调用。

   eg: print length()
   将打印文本中每一行的长度

