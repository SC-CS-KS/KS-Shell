# set

## set 使用

《Shell脚本学习指南》 7.9.1 set命令
set命令功能相当广泛，它因此违反了一次做好一件事情的软件设计原则，这是因为 Steven Bourne希望能避免有太多的保留命令内置在Shell里。

用途：
01.set最简单的功能是以排序的方式显示所有Shell的变量名和变量值。这是调用它不加任何参数时的行为模式。
02.设置和解除Shell选项的值(可改变Shell行为的方式)。
03.改变位置参数的值。

行为模式：
01.无选项或参数，则以Shell稍后可读的形式来打印所有的Shell变量名和值。
02.选项为-- 及 参数，以提供的参数取代位置参数。
03.开头为-的短选项，或以-o开头的长选项，则可打开特定的Shell选项。额外的非选项(nooption)参数可设置位置参数。
04.开头为+的短选项，或以+o开头的长选项，则可关闭特定的Shell选项。
05.单一的-o选项可以打印Shell选项的当前设置。
    ksh93和bash都会打印排序的列表，其中每一行是一个选项，和表示打开或关闭的on或off。
06.单一的+o打印Shell选项的当前设置。其采用Shell之后可重读的方式，以获得选项设置的相同设置。
#set -o
allexport       off
braceexpand     on
...

$ set +o
set +o allexport
set -o braceexpand
...

注意：
有些/bin/sh版本有可以不认识set -o的用法。

set一般不用来设置Shell变量，虽然它也可以这样做，变量的设置可以通过简单的赋值variable=value来实现。
特殊变量 $- 是一个字符串，表示当前以打开的Shell选项。如果选项被打开，每个选项的短字母都会出现在字符串中。
# echo $-
himBH

可以被用来测试选项设置。
case $- in
*C*) ...
    ;;
esac

